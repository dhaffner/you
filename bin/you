#!/usr/bin/env python

import baker

from you import main


@baker.command(default=True, shortopts={
    "search": "s",
    "lucky": "l"
})
def play(search=False, lucky=False, v=None, url=None, *query):
    controller = main.You()

    if v and not url:
        url = 'http://www.youtube.com/watch?v={}'.format(v)

    if search:
        controller.search(' '.join(query), lucky=lucky)

    elif url:
        controller.play(url)


@baker.command
def search(*query):
    controller = main.You()
    controller.search(' '.join(query))


@baker.command
def extract(url):
    controller = main.You()
    controller.extract(url)


if __name__ == '__main__':
    baker.run()
